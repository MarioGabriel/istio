Cheat Sheet

cd src/reviews
# Gradle Build Java Project
docker run --rm -u root -v "$(pwd)":/home/gradle/project -w /home/gradle/project gradle:4.8.1 gradle clean build

cd reviews-wlpcfg
# With ratings Green Stars
docker build -t mariogabrielg/examples-bookinfo-reviews-v4:latest --build-arg service_version=v4 \
	--build-arg enable_ratings=true --build-arg star_color=green --no-cache .

docker push mariogabrielg/examples-bookinfo-reviews-v4:latest

eyJhbGciOiJSUzI1NiIsImtpZCI6IiJ9.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJrOHNhZG1pbi10b2tlbi03Y2tzYyIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJrOHNhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjdmOTMzNDkxLTcyMzQtMTFlOS1hYjVkLTQyMDEwYTgwMDBjOSIsInN1YiI6InN5c3RlbTpzZXJ2aWNlYWNjb3VudDprdWJlLXN5c3RlbTprOHNhZG1pbiJ9.JaEb9YwEnZCxujESqwDiFoYNM26py6HdtJqfEsv71oyQPWtjbNI8coWNi93MNzFiKVX-o9GtTx2eaR2BdyipDWdJIJGroscsI84q08sRDDQsH_bAUYmQFLJ2KqfNo5zeAJNY_er4A3nCSInGzxEkCkAOlcm9LiKl-z7qkMBdmoKApEy75iFbRW8W8PIqseTL0Tcd4qJwz0et8FfZ4xWlPN9hQn2nC-a_Y7fpZyd7BNo-8w6RCLJnf5saveQb3iAWTNpggpPaC8CYnHOT52WXPC1ppqv2jf2dar1339AmtkycLRBVODE8kKomRfv_yiKRIUD6DJQ8CzF1Sp-tJ9Rxaw

export INGRESS_HOST=$(kubectl -n istio-system get service istio-ingressgateway -o jsonpath='{.status.loadBalancer.ingress[0].ip}')
export INGRESS_PORT=$(kubectl -n istio-system get service istio-ingressgateway -o jsonpath='{.spec.ports[?(@.name=="http2")].port}')
export SECURE_INGRESS_PORT=$(kubectl -n istio-system get service istio-ingressgateway -o jsonpath='{.spec.ports[?(@.name=="https")].port}')
export GATEWAY_URL=$INGRESS_HOST:$INGRESS_PORT
echo $GATEWAY_URL

gcloud container clusters get-credentials standard-cluster --zone us-central1-a --project istiotest-239415

kubectl -n istio-system port-forward grafana-55cd86b44c-hp92x 3000:3000 &
kubectl -n istio-system port-forward kiali-66d74fc6cc-g88p5 20001:20001
kubectl port-forward -n istio-system istio-tracing-7454db9d79-g7xqf 16686:16686 &

for i in {1..100}; do curl -s -o /dev/null http://35.224.58.11/productpage; done